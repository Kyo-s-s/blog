<!DOCTYPE html>
<html lang="en" >

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Hugo 0.68.3" />
    
    <link rel="canonical" href="https://Kyo-s-s.github.io/blog/posts/abc_248/" />
    <meta name="description" content="A hugo site using Edidor. &lt;br/&gt;&lt;br/&gt; Ctrl&#43;B toggle sidebar. ">
    

    <title>ABC 248 参加記 &middot; Kyo&#39;s blog</title>

    <link rel="shortcut icon" href="https://Kyo-s-s.github.io/blog/images/favicon.ico" />

    <link rel="stylesheet" href="https://Kyo-s-s.github.io/blog/css/main.css" />
    
        
        <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/atom-one-light.min.css">
        
    
    
    
    <link rel="stylesheet" href="https://Kyo-s-s.github.io/blog/css/custom.css">
    
</head>


<body class="loading light-mode">
    
<div class="top">
    <img class="logo" src="https://Kyo-s-s.github.io/blog/images/logo.svg" alt="logo" />
</div>
<div class="bottom">
    <img class="logo" src="https://Kyo-s-s.github.io/blog/images/logo.svg" alt="logo" />
</div>

    <header class="header">
    <ul class="menu clearfix control">
        
<li class="logo-container logo-light">
    <a href="https://Kyo-s-s.github.io/blog/" class="btn logo-link">
        <img class="logo" src="https://Kyo-s-s.github.io/blog/images/logo_light.svg" alt="logo" />
    </a>
</li>


<li class="logo-container logo-default">
    <a href="https://Kyo-s-s.github.io/blog/" class="btn logo-link">
        <img class="logo" src="https://Kyo-s-s.github.io/blog/images/logo.svg" alt="logo" />
    </a>
</li>

        
        
        
        
        <li 
            class="">
            <a class="btn" id="theme-switcher-button">
                Article
            </a>
            <ul class="sub-menu control">
                
                <li class="">
                    <a href="https://Kyo-s-s.github.io/blog/posts"
                    
                        class="btn "
                    >Posts</a>
                </li>
                
                <li class="">
                    <a href="https://Kyo-s-s.github.io/blog/tags"
                    
                        class="btn "
                    >Tags</a>
                </li>
                
                <li class="">
                    <a href="https://Kyo-s-s.github.io/blog/categories"
                    
                        class="btn "
                    >Categories</a>
                </li>
                
            </ul>
        </li>
        
        
        
        
        <li 
            class="">
            <a class="btn" id="theme-switcher-button">
                View
            </a>
            <ul class="sub-menu control">
                
                <li class="">
                    <a href="#"
                    
                        class="btn toggle-sidebar"
                    >Toggle Sidebar</a>
                </li>
                
            </ul>
        </li>
        
        
        
        
        <li  id="theme-switcher" 
            class="">
            <a class="btn" id="theme-switcher-button">
                Theme
            </a>
            <ul class="sub-menu control">
                
                <li class="">
                    <a href="#"
                    
                        
                        data-theme="light" class="btn"
                        
                    >Light</a>
                </li>
                
                <li class="">
                    <a href="#"
                    
                        
                        data-theme="dark" class="btn"
                        
                    >Dark</a>
                </li>
                
                <li class="">
                    <a href="#"
                    
                        
                        data-theme="wild" class="btn"
                        
                    >Wild</a>
                </li>
                
            </ul>
        </li>
        
        
    </ul>
</header>

    <div class="middle">
        <nav class="sidebar">
            <ul class="posts control">
    
    <li><a class="no-break btn" href='https://Kyo-s-s.github.io/blog/posts/abc_262/'><i class="icon icon-post"></i>ABC 262 参加記</a></li>
    
    <li><a class="no-break btn" href='https://Kyo-s-s.github.io/blog/posts/icpc2022/'><i class="icon icon-post"></i>ICPC2022 参加記</a></li>
    
    <li><a class="no-break btn" href='https://Kyo-s-s.github.io/blog/posts/abc_256/'><i class="icon icon-post"></i>ABC 256 参加記</a></li>
    
    <li><a class="no-break btn" href='https://Kyo-s-s.github.io/blog/posts/abc_255/'><i class="icon icon-post"></i>ABC 255 参加記</a></li>
    
    <li><a class="no-break btn" href='https://Kyo-s-s.github.io/blog/posts/abc_253/'><i class="icon icon-post"></i>ABC 253 参加記</a></li>
    
    <li><a class="no-break btn" href='https://Kyo-s-s.github.io/blog/posts/abc_252/'><i class="icon icon-post"></i>ABC 252 参加記</a></li>
    
    <li><a class="no-break btn" href='https://Kyo-s-s.github.io/blog/posts/abc_251/'><i class="icon icon-post"></i>ABC 251 参加記</a></li>
    
    <li><a class="no-break btn" href='https://Kyo-s-s.github.io/blog/posts/ketadp/'><i class="icon icon-post"></i>桁DPを理解する</a></li>
    
    <li><a class="no-break btn" href='https://Kyo-s-s.github.io/blog/posts/abc_249/'><i class="icon icon-post"></i>ABC 249 参加記</a></li>
    
    <li><a class="no-break btn" href='https://Kyo-s-s.github.io/blog/posts/abc_248_c/'><i class="icon icon-post"></i>ABC 248 C Dice Sum 考察</a></li>
    
</ul>

        </nav>
        <main class="main">
            <article class="article">
    <h2 class="title"><a href='https://Kyo-s-s.github.io/blog/posts/abc_248/' class="btn">ABC 248 参加記</a></h2>
    <div class="article-meta clearfix">
        <ul class="dates clearfix left control">
            <li><i class="icon icon-date"></i></li>
            <li class="publish-date">
                <time datetime="2022.04.17">2022.04.17</time>
            </li>
        </ul>
        
        <ul class="article-categories clearfix left control">
            <li><i class="icon icon-categories"></i></li>
            
            <li>
                <a href="https://Kyo-s-s.github.io/blog/categories/%E7%AB%B6%E6%8A%80%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0/" class="btn">競技プログラミング</a>
            </li>
            
        </ul>
        
        
        <div class="article-meta-splitter clearfix"></div>
        <ul class="article-tags clearfix control">
            <li><i class="icon icon-tags"></i></li>
            
            <li>
                <a href="https://Kyo-s-s.github.io/blog/tags/abc/" class="btn">ABC</a>
            </li>
            
        </ul>
        
    </div>
    <div class="content">
        
        <p>72分6完(1ペナ)で299位、2034パフォでした。初黄パフォ＆入青！わーい！</p>
<p>入青記事は<a href="https://kyo-s-s.github.io/blog/posts/atcoderblue/">こちら</a>です。</p>
<h3 id="a-lacked-numberhttpsatcoderjpcontestsabc248tasksabc248_a">A <a href="https://atcoder.jp/contests/abc248/tasks/abc248_a">Lacked Number</a></h3>
<h4 id="問題">問題</h4>
<blockquote>
<p>数字のみからなる、長さがちょうど9の文字列$S$が与えられます。$S$には0から9までのうち、ちょうど1つの数字を除いた9種類の数字が1度ずつ登場します。$S$に登場しない唯一の数字を出力してください。</p>
<ul>
<li>$S$は数字のみからなる長さ9の文字列</li>
<li>$S$の文字はすべて相異なる</li>
</ul>
</blockquote>
<h4 id="提出コード">提出コード</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(){

    string S; cin <span style="color:#f92672">&gt;&gt;</span> S;
    
    map<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> cn;

    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">auto</span> s: S) cn[s <span style="color:#f92672">-</span> <span style="color:#e6db74">&#39;0&#39;</span>]<span style="color:#f92672">++</span>;

    rep(i, <span style="color:#ae81ff">10</span>) <span style="color:#66d9ef">if</span>(cn[i] <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) cout <span style="color:#f92672">&lt;&lt;</span> i <span style="color:#f92672">&lt;&lt;</span> endl;
    
}
</code></pre></div><h3 id="b-slimeshttpsatcoderjpcontestsabc248tasksabc248_b">B <a href="https://atcoder.jp/contests/abc248/tasks/abc248_b">Slimes</a></h3>
<h4 id="問題-1">問題</h4>
<blockquote>
<p>$A$匹のスライムがいます。すぬけくんが1回叫ぶたびにスライムは$K$倍に増殖します。スライムが$B$匹以上になるには、すぬけくんは最小で何回叫ぶ必要がありますか？</p>
<ul>
<li>$1 \leq A \leq B \leq 10^9$</li>
<li>$2 \leq K \leq 10^9$</li>
</ul>
</blockquote>
<h4 id="提出コード-1">提出コード</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(){

    ll A, B, K; cin <span style="color:#f92672">&gt;&gt;</span> A <span style="color:#f92672">&gt;&gt;</span> B <span style="color:#f92672">&gt;&gt;</span> K;
    
    ll ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;

    <span style="color:#66d9ef">while</span>(true){
        <span style="color:#66d9ef">if</span>(A <span style="color:#f92672">&gt;=</span> B) <span style="color:#66d9ef">break</span>;
        ans<span style="color:#f92672">++</span>;
        A <span style="color:#f92672">*=</span> K;
    }

    cout <span style="color:#f92672">&lt;&lt;</span> ans <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#39;\n&#39;</span>;

}
</code></pre></div><h3 id="c-dice-sumhttpsatcoderjpcontestsabc248tasksabc248_c">C <a href="https://atcoder.jp/contests/abc248/tasks/abc248_c">Dice Sum</a></h3>
<h4 id="問題-2">問題</h4>
<blockquote>
<p>長さ$N$からなる数列$A = (A_1, \cdots, A_N)$であって、以下の条件を満たすものは何通りありますか？</p>
<ul>
<li>$1 \leq A_i \leq M ~(1 \leq i \leq N)$</li>
<li>$\displaystyle \sum_{i = 1}^N A_i \leq K$</li>
</ul>
<p>ただし、答えは非常に大きくなることがあるので、答えを 998244353 で割った余りを求めてください。</p>
<ul>
<li>$1 \leq N, M \leq 50$</li>
<li>$N \leq K \leq NM$</li>
</ul>
</blockquote>
<h4 id="考察">考察</h4>
<p>別に考察記事を書こうと思っています。よってここでは省略します。</p>
<h4 id="提出コード-2">提出コード</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">// https://github.com/Kyo-s-s/Kyo_s_s_Library/blob/main/lib/math/modint.cpp
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> Mint <span style="color:#f92672">=</span> Modint998244353;

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(){

    ll N, M, K; cin <span style="color:#f92672">&gt;&gt;</span> N <span style="color:#f92672">&gt;&gt;</span> M <span style="color:#f92672">&gt;&gt;</span> K;

    vector<span style="color:#f92672">&lt;</span>Mint<span style="color:#f92672">&gt;</span> dp(K <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
    dp[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;

    rep(i, N){
        vector<span style="color:#f92672">&lt;</span>Mint<span style="color:#f92672">&gt;</span> pd(K <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
        rep(k, K <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>){
            <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> add <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; add <span style="color:#f92672">&lt;=</span> M; add<span style="color:#f92672">++</span>){
                <span style="color:#66d9ef">if</span>(k <span style="color:#f92672">+</span> add <span style="color:#f92672">&lt;</span> K <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>){
                    pd[k <span style="color:#f92672">+</span> add] <span style="color:#f92672">+=</span> dp[k];
                }
            }
        }
        swap(dp, pd);
    }

    Mint ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    rep(i, K <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) ans <span style="color:#f92672">+=</span> dp[i];
    cout <span style="color:#f92672">&lt;&lt;</span> ans <span style="color:#f92672">&lt;&lt;</span> endl;

}
</code></pre></div><h3 id="d-range-count-queryhttpsatcoderjpcontestsabc248tasksabc248_d">D <a href="https://atcoder.jp/contests/abc248/tasks/abc248_d">Range Count Query</a></h3>
<h4 id="問題-3">問題</h4>
<blockquote>
<p>長さ$N$の数列$A = (A_1, \cdots, A_N)$が与えられます。　$Q$個のクエリにこたえてください。</p>
<ul>
<li><code>L R X</code> : $A_L, \cdots, A_R$のうち、値が$X$に等しいものの個数を求めよ。</li>
<li>$1 \leq N \leq 2 \times 10 ^ 5$</li>
<li>$1 \leq A_i \leq N$</li>
<li>$1 \leq Q \leq 2 \times 10^5$</li>
<li>各クエリについて、$1 \leq L \leq R \leq N,~1 \leq X \leq N$</li>
</ul>
</blockquote>
<h4 id="考察-1">考察</h4>
<p>$1, 2, \cdots, N$について、数列$A$の何番目に出現するか？を配列で持っておきます。すると、クエリ<code>L R X</code>では、$X$について($R+1$以上が初めて出現するインデックス) $-$ ($L$以上が初めて出現するインデックス) を答えればよいので1つのクエリを$O(\log N)$でさばけます。</p>
<h4 id="提出コード-3">提出コード</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(){

    ll N; cin <span style="color:#f92672">&gt;&gt;</span> N;
    vector<span style="color:#f92672">&lt;</span>ll<span style="color:#f92672">&gt;</span> A(N); <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> N; i<span style="color:#f92672">++</span>) cin <span style="color:#f92672">&gt;&gt;</span> A[i];
    
    vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span>ll<span style="color:#f92672">&gt;&gt;</span> app(N <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);

    rep(i, N){
        ll a <span style="color:#f92672">=</span> A[i];
        app[a].pb(i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
    }

    ll Q; cin <span style="color:#f92672">&gt;&gt;</span> Q;
    rep(q, Q){
        ll L, R, X; cin <span style="color:#f92672">&gt;&gt;</span> L <span style="color:#f92672">&gt;&gt;</span> R <span style="color:#f92672">&gt;&gt;</span> X;
        
        ll l <span style="color:#f92672">=</span> bisect_left(app[X], L);
        ll r <span style="color:#f92672">=</span> bisect_left(app[X], R <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
        cout <span style="color:#f92672">&lt;&lt;</span> r <span style="color:#f92672">-</span> l <span style="color:#f92672">&lt;&lt;</span> endl;

    }
}
</code></pre></div><h3 id="e-k-colinear-linehttpsatcoderjpcontestsabc248tasksabc248_e">E <a href="https://atcoder.jp/contests/abc248/tasks/abc248_e">K-colinear Line</a></h3>
<h4 id="問題-4">問題</h4>
<blockquote>
<p>座標平面上の$N$個の点が与えられます。$1\leq i \leq N$について、$i$番目の点の座標は$(X_i, Y_i)$です。座標平面上の直線であって、$N$個の点のうち$K$個以上の点を通るものの個数を求めてください。そのような直線が無限に存在する場合は<code>Infinity</code>を出力してください。</p>
<ul>
<li>$1 \leq K \leq N \leq 300$</li>
<li>$|X_i|, |Y_i| \leq 10^9$</li>
<li>$i \ne j$ならば$X_i \ne X_j$または$Y_i \ne Y_j$</li>
</ul>
</blockquote>
<h4 id="考察-2">考察</h4>
<p>$K = 1$のとき、答えは<code>Infinity</code>です。それ以外の時、答えが<code>Infinity</code>になることはありません。$K \geq 2$の時を考えます。</p>
<p>直線を方程式で表そうとするととても大変です(浮動小数点で持つと誤差でダメになってしまいます。分数で持つのも分数ライブラリがないと大変です)。</p>
<p>$N$個の点のなかから2点を選ぶと、その2点を通る直線が1つだけ存在します(同じ点は存在しないため)。2点を先に決めてしまい、その2点を通る直線上にある点を探します。$K$個以上あったら答えに1を加算し、同一直線上にある点を重複して数えないようにメモしておきます。これをすると解けます。メモに<code>set</code>を使ってしまいましたが、2次元配列で持った方が無駄な$\log$がつかずにキレイですね。</p>
<h4 id="提出コード-4">提出コード</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">/*3点が同一線上にあるか？　*/</span>
<span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">isonLine</span>(ll x1, ll y1, ll x2, ll y2, ll x3, ll y3){
    ll dx1 <span style="color:#f92672">=</span> x1 <span style="color:#f92672">-</span> x2;
    ll dy1 <span style="color:#f92672">=</span> y1 <span style="color:#f92672">-</span> y2;
    ll dx2 <span style="color:#f92672">=</span> x1 <span style="color:#f92672">-</span> x3;
    ll dy2 <span style="color:#f92672">=</span> y1 <span style="color:#f92672">-</span> y3;
    <span style="color:#66d9ef">return</span> dx2 <span style="color:#f92672">*</span> dy1 <span style="color:#f92672">==</span> dx1 <span style="color:#f92672">*</span> dy2;
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(){

    ll N, K; cin <span style="color:#f92672">&gt;&gt;</span> N <span style="color:#f92672">&gt;&gt;</span> K;
    vpll XY(N);
    rep(i, N) cin <span style="color:#f92672">&gt;&gt;</span> XY[i].fi <span style="color:#f92672">&gt;&gt;</span> XY[i].se;

    set<span style="color:#f92672">&lt;</span>pll<span style="color:#f92672">&gt;</span> ok;
    
    <span style="color:#66d9ef">if</span>(K <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>){
        cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Infinity&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl; exit(<span style="color:#ae81ff">0</span>);
    }

    ll ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;

    rep(i, N) rep(j, N){
        <span style="color:#66d9ef">if</span>(i <span style="color:#f92672">==</span> j) <span style="color:#66d9ef">continue</span>;
        <span style="color:#66d9ef">if</span>(ok.find({i, j}) <span style="color:#f92672">!=</span> ok.end()) <span style="color:#66d9ef">continue</span>;

        vll arr <span style="color:#f92672">=</span> {i, j};
        rep(k, N) <span style="color:#66d9ef">if</span>(i <span style="color:#f92672">!=</span> k <span style="color:#f92672">&amp;&amp;</span> j <span style="color:#f92672">!=</span> k){
            <span style="color:#66d9ef">if</span>(isonLine(XY[i].fi, XY[i].se, XY[j].fi, XY[j].se, XY[k].fi, XY[k].se)){
                arr.pb(k);
            }
        }

        <span style="color:#66d9ef">if</span>(arr.size() <span style="color:#f92672">&gt;=</span> K) ans<span style="color:#f92672">++</span>;

        rep(s, arr.size()) rep(t, arr.size()) ok.insert({arr[s], arr[t]});
    }

    cout <span style="color:#f92672">&lt;&lt;</span> ans <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#39;\n&#39;</span>;
    
}   
</code></pre></div><h3 id="f-keep-connecthttpsatcoderjpcontestsabc248tasksabc248_f">F <a href="https://atcoder.jp/contests/abc248/tasks/abc248_f">Keep Connect</a></h3>
<h4 id="問題-5">問題</h4>
<blockquote>
<p>2以上の整数$N$および素数$P$が与えられます。下図のような$2N$頂点$(3N-2)$辺のグラフ$G$を考えます。</p>
<p><img src="https://Kyo-s-s.github.io/blog/images/ABC_248/img1.jpg" alt="ABC248img1"></p>
<p>$i = 1, 2, \cdots, N - 1$について、次の問題を解いてください。</p>
<blockquote>
<p>$G$の$3N-2$本の辺からちょうど$i$本の辺を取り除く方法であって、辺を取り除いた後のグラフも連結であるようなものの個数を$P$で割ったあまりを求めよ。</p>
</blockquote>
<ul>
<li>$2 \leq N \leq 3000$</li>
<li>$9 \times 10^8 \leq P \leq 10^9$</li>
<li>$P$は素数</li>
</ul>
</blockquote>
<h4 id="考察-3">考察</h4>
<p>$N \leq 3000$なので、$O(N^2)$が通ります。ここでDPじゃないかなぁという推測を立てます(問題もDPっぽいので)。実際DPで解くことができます。</p>
<p><img src="https://Kyo-s-s.github.io/blog/images/ABC_248/img2.jpg" alt="ABC248img2"></p>
<p>このように分解し、左から右へ見ていきます。DPテーブルを、$dp[j][k] :=$ $j$本の辺を取り除いて、今見ている右端の上と下が連結か？(連結なら$k = 1$、連結でないなら$k = 0$)とします。
遷移を考えます。まずは右端の上と下が連結の場合です。</p>
<p><img src="https://Kyo-s-s.github.io/blog/images/ABC_248/img3.jpg" alt="ABC248img3"></p>
<p>左から0本、1本、2本取り除いた場合の条件を満たすつなげ方です。0本、1本取り除いた場合は上下が連結のままですが、2本取り除いた場合は上下が連結でなくなります。</p>
<p>次に右端の上と下が連結でない場合です。</p>
<p><img src="https://Kyo-s-s.github.io/blog/images/ABC_248/img4.jpg" alt="ABC248img4"></p>
<p>左から0本、1本取り除いた場合の条件を満たすつなげ方です。2本取り除くことはできません(非連結な部分ができてしまいます)。</p>
<p>これで遷移をすべて出すことができました。</p>
<p>素数$P$がテストケースによって変わるので、ACLのmodintを使いました。</p>
<h4 id="提出コード-5">提出コード</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;atcoder/all&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> atcoder;
<span style="color:#66d9ef">using</span> mint <span style="color:#f92672">=</span> modint;

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(){

    ll N, P; cin <span style="color:#f92672">&gt;&gt;</span> N <span style="color:#f92672">&gt;&gt;</span> P;
    mint<span style="color:#f92672">::</span>set_mod(P);

    vector dp(N <span style="color:#f92672">+</span> <span style="color:#ae81ff">10</span>, vector<span style="color:#f92672">&lt;</span>mint<span style="color:#f92672">&gt;</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">0</span>));
    <span style="color:#75715e">//取り除いた数、上と下が連結か 連結-&gt; 1
</span><span style="color:#75715e"></span>    dp[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
    dp[<span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;

    <span style="color:#75715e">//コの字はN-1個
</span><span style="color:#75715e"></span>    rep(o, N <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>){
        vector pd(N <span style="color:#f92672">+</span> <span style="color:#ae81ff">10</span>, vector<span style="color:#f92672">&lt;</span>mint<span style="color:#f92672">&gt;</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">0</span>));
        rep(i, N <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>){

            <span style="color:#75715e">//非連結
</span><span style="color:#75715e"></span>            pd[i <span style="color:#f92672">+</span> <span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">1</span>] <span style="color:#f92672">+=</span> dp[i][<span style="color:#ae81ff">0</span>];
            pd[i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+=</span> dp[i][<span style="color:#ae81ff">0</span>];

            <span style="color:#75715e">//連結
</span><span style="color:#75715e"></span>            pd[i <span style="color:#f92672">+</span> <span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">1</span>] <span style="color:#f92672">+=</span> dp[i][<span style="color:#ae81ff">1</span>];
            pd[i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">1</span>] <span style="color:#f92672">+=</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672">*</span> dp[i][<span style="color:#ae81ff">1</span>];
            pd[i <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> dp[i][<span style="color:#ae81ff">1</span>];
            
        }
        swap(dp, pd);
    }

    rrep(i, N <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>){
        cout <span style="color:#f92672">&lt;&lt;</span> dp[i][<span style="color:#ae81ff">1</span>].val();
        <span style="color:#66d9ef">if</span>(i <span style="color:#f92672">==</span> N) cout <span style="color:#f92672">&lt;&lt;</span> endl;
        <span style="color:#66d9ef">else</span> cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span>;
    }
}
</code></pre></div><p>1つ前からのみ遷移するDPはこのようにswapしていくと添え字が1つ減って楽になります。</p>

        
    </div>

</article>
<section class="comment">
    <p class="local-info">
        Comment is disabled to avoid unwanted discussions from 'localhost:1313' on your Disqus
        account...
    </p>
    <div id="disqus_thread"></div>
</section>
<script type="text/javascript">

    (function () {
        if (window.location.hostname == "localhost") {
            return
        }
        document.querySelector('.local-info').classList.add('hide')

        let dsq = document.createElement('script')
        dsq.type = 'text/javascript'
        dsq.async = true
        let disqus_shortname = 'your disqus short name'
        dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq)
    })()
</script>


        </main>
    </div>
    <footer class="footer clearfix">
    <ul class="control social clearfix">
        <li><a class="author btn" href="#">Kyo</a></li>
        
        
        
        
        
        
        
        
        <li>
            <a class="icon-link btn" href="https://github.com/Kyo-s-s"><i class="icon github"></i></a>
        </li>
        
        
        
        <li>
            <a class="icon-link btn" href="https://twitter.com/Kyo_s_s"><i class="icon twitter"></i></a>
        </li>
        
        
        <li>
            <a class="icon-link btn" href="https://Kyo-s-s.github.io/blog/index.xml" type="application/rss+xml" title="rss">
                <i class="rss icon"></i></a>
        </li>
    </ul>

    <ul class="control status clearfix">
        <li><a href="#" class="btn">Posts:
                17</a>
        </li>
        <li><a href="#" class="btn">Pages:
                0</a></li>
        <li><a href="#" class="btn">en</a></li>
        <li><a href="https://gohugo.io" class="btn">Hugo: 0.68.3</a></li>
        <li><a href="https://github.com/sfengyuan/edidor" class="btn">Theme: Edidor</a></li>
        <li>
            
                <a href="#" class="btn">Last build: <time
                    datetime="2020-03-25T06:15:45Z">2020-03-25T06:15:45Z</time>
                </a>
            
        </li>
    </ul>
</footer>
<div class="dialog">
    <div class="wrapper">
        <div class="clearfix"><button class="btn close-dialog">X</button></div>
        <header>
            <h1 class="title">Theme Name</h1>
        </header>
        <main>
            <div class="clearfix">
                <label for="theme-name">
                    <p>Only English Character, space, hyphen are allowed!</p>
                    <p>Valid name examples: "custom", "fantastic theme", "my-theme"</p>
                    <p>Invalid name examles: "我的主题", ":)", "123"</p>
                </label>
                <input type="text" name="theme-name" id="theme-name">
            </div>
            <div class="clearfix">
                <button class="btn export">Export</button>
            </div>

        </main>
        <footer></footer>
    </div>
</div>

    <script src="https://Kyo-s-s.github.io/blog/js/main.js"></script>



<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>

<script>hljs.initHighlightingOnLoad();</script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'your ga id', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>

</html>
